<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”¼í•˜ê¸° ê²Œì„</title>
    <style>
        /* ğŸ¨ ìŠ¤íƒ€ì¼ ì´ˆê¸°í™” */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* ğŸ“ body ë ˆì´ì•„ì›ƒ: ê²Œì„ í™”ë©´ ì¤‘ì•™ ë°°ì¹˜ */
        body {
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #2c3e50; /* ì–´ë‘ìš´ ë°°ê²½ (ê²Œì„ ë¶„ìœ„ê¸° ì—°ì¶œ) */
        }

        /* ğŸ® ê²Œì„ ìº”ë²„ìŠ¤: ì‹¤ì œ ê²Œì„ì´ ê·¸ë ¤ì§€ëŠ” ì˜ì—­ */
        #gameCanvas {
            background-color: #000; /* ê²€ì€ìƒ‰ ë°°ê²½ */
            border: 3px solid #fff; /* í°ìƒ‰ í…Œë‘ë¦¬ */
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); /* ë¹›ë‚˜ëŠ” íš¨ê³¼ */
        }

        /* ğŸ’€ ê²Œì„ ì˜¤ë²„ í™”ë©´: ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
        #gameOver {
            display: none; /* ê²Œì„ ì˜¤ë²„ ì „ê¹Œì§€ ë³´ì´ì§€ ì•ŠìŒ */
            position: absolute; /* ìº”ë²„ìŠ¤ ìœ„ì— ê²¹ì³ì„œ í‘œì‹œ */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* ì •í™•í•œ ì¤‘ì•™ ì •ë ¬ */
            text-align: center;
            background-color: rgba(0, 0, 0, 0.9); /* ë°˜íˆ¬ëª… ê²€ì€ ë°°ê²½ */
            color: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 30px rgba(255, 255, 255, 0.5);
        }

        #gameOver h2 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #e74c3c; /* ë¹¨ê°„ìƒ‰ (ê²½ê³  ìƒ‰ìƒ) */
        }

        #finalScore {
            font-size: 24px;
            margin-bottom: 30px;
        }

        /* ğŸ”„ ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ */
        #restartBtn {
            padding: 15px 30px;
            font-size: 18px;
            background-color: #3498db; /* íŒŒë€ìƒ‰ */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #restartBtn:hover {
            background-color: #2980b9; /* ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ì§„í•œ íŒŒë€ìƒ‰ */
        }
    </style>
</head>
<body>
    <!-- ğŸ¨ Canvas: JavaScriptë¡œ ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” HTML ìš”ì†Œ -->
    <canvas id="gameCanvas" width="800" height="600"></canvas>

    <!-- ğŸ’€ ê²Œì„ ì˜¤ë²„ íŒì—… -->
    <div id="gameOver">
        <h2>ê²Œì„ ì˜¤ë²„!</h2>
        <p id="finalScore">ìµœì¢… ì ìˆ˜: 0ì </p>
        <button id="restartBtn">ë‹¤ì‹œ ì‹œì‘</button>
    </div>

    <script>
        // ğŸ¯ Canvas ì´ˆê¸°í™”: 2D ê·¸ë˜í”½ì„ ê·¸ë¦¬ê¸° ìœ„í•œ ì„¤ì •
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d'); // 2D ë Œë”ë§ ì»¨í…ìŠ¤íŠ¸ (ê·¸ë¦¼ ë„êµ¬)

        // ğŸ“Œ HTML ìš”ì†Œ ì°¸ì¡°
        const gameOverDiv = document.getElementById('gameOver');
        const finalScoreText = document.getElementById('finalScore');
        const restartBtn = document.getElementById('restartBtn');

        // ğŸ® ê²Œì„ ìƒíƒœ ë³€ìˆ˜
        let gameActive = true; // true: ê²Œì„ ì§„í–‰ ì¤‘, false: ê²Œì„ ì˜¤ë²„
        let score = 0; // í˜„ì¬ ì ìˆ˜ (ìƒì¡´ ì‹œê°„ ê¸°ë°˜)
        let startTime = Date.now(); // ê²Œì„ ì‹œì‘ ì‹œê° (ë°€ë¦¬ì´ˆ)

        // ğŸ‘¤ í”Œë ˆì´ì–´ ê°ì²´: í”Œë ˆì´ì–´ì˜ ìœ„ì¹˜, í¬ê¸°, ì†ë„ ë“±
        const player = {
            x: canvas.width / 2 - 15, // ì´ˆê¸° X ìœ„ì¹˜ (í™”ë©´ ê°€ë¡œ ì¤‘ì•™)
            y: canvas.height - 50, // ì´ˆê¸° Y ìœ„ì¹˜ (í™”ë©´ í•˜ë‹¨)
            width: 30, // í”Œë ˆì´ì–´ ê°€ë¡œ í¬ê¸°
            height: 30, // í”Œë ˆì´ì–´ ì„¸ë¡œ í¬ê¸°
            speed: 5, // ì´ë™ ì†ë„ (í”½ì…€/í”„ë ˆì„)
            color: '#3498db' // íŒŒë€ìƒ‰
        };

        // ğŸš« ì¥ì• ë¬¼ ê°ì²´: í”¼í•´ì•¼ í•˜ëŠ” ìœ„í—˜ ìš”ì†Œ
        const obstacle = {
            x: Math.random() * (canvas.width - 40), // ì´ˆê¸° X ìœ„ì¹˜ (ëœë¤)
            y: 0, // ì´ˆê¸° Y ìœ„ì¹˜ (í™”ë©´ ìµœìƒë‹¨)
            width: 40,
            height: 40,
            speed: 3, // í•˜ê°• ì†ë„
            color: '#e74c3c' // ë¹¨ê°„ìƒ‰ (ìœ„í—˜ ìƒ‰ìƒ)
        };

        // âŒ¨ï¸ í‚¤ ì…ë ¥ ìƒíƒœ ì¶”ì  ê°ì²´
        // ì˜ˆ: keys['ArrowLeft'] = true ì´ë©´ ì™¼ìª½ í™”ì‚´í‘œ í‚¤ê°€ ëˆŒë¦° ìƒíƒœ
        const keys = {};

        // ğŸ¹ í‚¤ë³´ë“œ ì…ë ¥ ê°ì§€
        document.addEventListener('keydown', (e) => {
            keys[e.key] = true; // í‚¤ë¥¼ ëˆ„ë¥´ë©´ trueë¡œ ì„¤ì •
        });

        document.addEventListener('keyup', (e) => {
            keys[e.key] = false; // í‚¤ë¥¼ ë–¼ë©´ falseë¡œ ì„¤ì •
        });

        // ğŸ”„ ë‹¤ì‹œ ì‹œì‘ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        restartBtn.addEventListener('click', () => {
            location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ (ê°„ë‹¨í•œ ì¬ì‹œì‘ ë°©ë²•)
        });

        // ğŸ‘¤ í•¨ìˆ˜: í”Œë ˆì´ì–´ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ (í‚¤ ì…ë ¥ì— ë”°ë¼ ì´ë™)
        function updatePlayer() {
            // â¬…ï¸ ì™¼ìª½ í™”ì‚´í‘œ: X ì¢Œí‘œ ê°ì†Œ (ì™¼ìª½ ì´ë™)
            if (keys['ArrowLeft'] && player.x > 0) {
                player.x -= player.speed;
            }
            // â¡ï¸ ì˜¤ë¥¸ìª½ í™”ì‚´í‘œ: X ì¢Œí‘œ ì¦ê°€ (ì˜¤ë¥¸ìª½ ì´ë™)
            if (keys['ArrowRight'] && player.x < canvas.width - player.width) {
                player.x += player.speed;
            }
            // â¬†ï¸ ìœ„ìª½ í™”ì‚´í‘œ: Y ì¢Œí‘œ ê°ì†Œ (ìœ„ë¡œ ì´ë™)
            if (keys['ArrowUp'] && player.y > 0) {
                player.y -= player.speed;
            }
            // â¬‡ï¸ ì•„ë˜ìª½ í™”ì‚´í‘œ: Y ì¢Œí‘œ ì¦ê°€ (ì•„ë˜ë¡œ ì´ë™)
            if (keys['ArrowDown'] && player.y < canvas.height - player.height) {
                player.y += player.speed;
            }
        }

        // ğŸš« í•¨ìˆ˜: ì¥ì• ë¬¼ ìœ„ì¹˜ ì—…ë°ì´íŠ¸ (ìœ„ì—ì„œ ì•„ë˜ë¡œ ë–¨ì–´ì§)
        function updateObstacle() {
            // ğŸ“‰ ì¥ì• ë¬¼ì„ ì•„ë˜ë¡œ ì´ë™ (Y ì¢Œí‘œ ì¦ê°€)
            obstacle.y += obstacle.speed;

            // ğŸ”„ í™”ë©´ í•˜ë‹¨ì— ë„ë‹¬í•˜ë©´ ìƒˆë¡œìš´ ì¥ì• ë¬¼ ìƒì„±
            if (obstacle.y > canvas.height) {
                obstacle.y = 0; // Y ìœ„ì¹˜ ì´ˆê¸°í™” (ìµœìƒë‹¨)
                obstacle.x = Math.random() * (canvas.width - obstacle.width); // X ìœ„ì¹˜ ëœë¤

                // ğŸ“ˆ ì ì§„ì  ë‚œì´ë„ ì¦ê°€: ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ì¥ì• ë¬¼ì´ ë¹¨ë¼ì§
                if (obstacle.speed < 8) {
                    obstacle.speed += 0.1; // ì†ë„ ì¦ê°€ (ìµœëŒ€ 8ê¹Œì§€)
                }
            }
        }

        // ğŸ’¥ í•¨ìˆ˜: ì¶©ëŒ ê°ì§€ (ì‚¬ê°í˜• ì¶©ëŒ ì•Œê³ ë¦¬ì¦˜)
        // ë‘ ì‚¬ê°í˜•ì´ ê²¹ì¹˜ë©´ true ë°˜í™˜
        function checkCollision() {
            return player.x < obstacle.x + obstacle.width && // í”Œë ˆì´ì–´ ì™¼ìª½ì´ ì¥ì• ë¬¼ ì˜¤ë¥¸ìª½ë³´ë‹¤ ì™¼ìª½ì— ìˆê³ 
                   player.x + player.width > obstacle.x && // í”Œë ˆì´ì–´ ì˜¤ë¥¸ìª½ì´ ì¥ì• ë¬¼ ì™¼ìª½ë³´ë‹¤ ì˜¤ë¥¸ìª½ì— ìˆê³ 
                   player.y < obstacle.y + obstacle.height && // í”Œë ˆì´ì–´ ìœ„ìª½ì´ ì¥ì• ë¬¼ ì•„ë˜ìª½ë³´ë‹¤ ìœ„ì— ìˆê³ 
                   player.y + player.height > obstacle.y; // í”Œë ˆì´ì–´ ì•„ë˜ìª½ì´ ì¥ì• ë¬¼ ìœ„ìª½ë³´ë‹¤ ì•„ë˜ì— ìˆìœ¼ë©´ ì¶©ëŒ!
        }

        // ğŸ¯ í•¨ìˆ˜: ì ìˆ˜ ê³„ì‚° (ìƒì¡´ ì‹œê°„ ê¸°ë°˜)
        function updateScore() {
            // í˜„ì¬ ì‹œê°„ - ì‹œì‘ ì‹œê°„ = ìƒì¡´ ì‹œê°„ (ë°€ë¦¬ì´ˆ)
            // 1000ìœ¼ë¡œ ë‚˜ëˆ„ë©´ ì´ˆ ë‹¨ìœ„ë¡œ ë³€í™˜
            score = Math.floor((Date.now() - startTime) / 1000);
        }

        // ğŸ¨ í•¨ìˆ˜: ê²Œì„ í™”ë©´ ê·¸ë¦¬ê¸°
        function draw() {
            // ğŸ–Œï¸ 1. ìº”ë²„ìŠ¤ ì´ˆê¸°í™” (ì´ì „ í”„ë ˆì„ ì§€ìš°ê¸°)
            ctx.fillStyle = '#000'; // ê²€ì€ìƒ‰
            ctx.fillRect(0, 0, canvas.width, canvas.height); // ì „ì²´ ìº”ë²„ìŠ¤ ì±„ìš°ê¸°

            // ğŸ‘¤ 2. í”Œë ˆì´ì–´ ê·¸ë¦¬ê¸° (íŒŒë€ ì‚¬ê°í˜•)
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y, player.width, player.height);

            // ğŸš« 3. ì¥ì• ë¬¼ ê·¸ë¦¬ê¸° (ë¹¨ê°„ ì‚¬ê°í˜•)
            ctx.fillStyle = obstacle.color;
            ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);

            // ğŸ“Š 4. ì ìˆ˜ í‘œì‹œ (ì¢Œì¸¡ ìƒë‹¨)
            ctx.fillStyle = '#fff'; // í°ìƒ‰
            ctx.font = '24px sans-serif'; // í°íŠ¸ ì„¤ì •
            ctx.fillText(`ì ìˆ˜: ${score}`, 20, 40); // í…ìŠ¤íŠ¸ ê·¸ë¦¬ê¸°
        }

        // ğŸ’€ í•¨ìˆ˜: ê²Œì„ ì˜¤ë²„ ì²˜ë¦¬
        function endGame() {
            gameActive = false; // ê²Œì„ ë£¨í”„ ì¤‘ë‹¨
            finalScoreText.textContent = `ìµœì¢… ì ìˆ˜: ${score}ì `; // ìµœì¢… ì ìˆ˜ í‘œì‹œ
            gameOverDiv.style.display = 'block'; // ê²Œì„ ì˜¤ë²„ íŒì—… í‘œì‹œ
        }

        // ğŸ” ê²Œì„ ë£¨í”„: ë§¤ í”„ë ˆì„ë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” í•µì‹¬ í•¨ìˆ˜
        function gameLoop() {
            // ğŸ›‘ ê²Œì„ì´ ì¢…ë£Œë˜ì—ˆìœ¼ë©´ ë£¨í”„ ì¤‘ë‹¨
            if (!gameActive) return;

            // ğŸ”„ ê²Œì„ ë¡œì§ ì—…ë°ì´íŠ¸
            updatePlayer(); // í”Œë ˆì´ì–´ ì´ë™
            updateObstacle(); // ì¥ì• ë¬¼ ì´ë™
            updateScore(); // ì ìˆ˜ ê³„ì‚°

            // ğŸ’¥ ì¶©ëŒ ê²€ì‚¬
            if (checkCollision()) {
                endGame(); // ì¶©ëŒ ì‹œ ê²Œì„ ì˜¤ë²„
                return; // ë£¨í”„ ì¢…ë£Œ
            }

            // ğŸ¨ í™”ë©´ ê·¸ë¦¬ê¸°
            draw();

            // â¡ï¸ ë‹¤ìŒ í”„ë ˆì„ ìš”ì²­ (ì•½ 60fpsë¡œ ìë™ ì‹¤í–‰)
            // requestAnimationFrameì€ ë¸Œë¼ìš°ì €ì—ê²Œ "ë‹¤ìŒ í”„ë ˆì„ì— ì´ í•¨ìˆ˜ ë‹¤ì‹œ ì‹¤í–‰í•´ì¤˜"ë¼ê³  ìš”ì²­
            requestAnimationFrame(gameLoop);
        }

        // ğŸš€ ê²Œì„ ì‹œì‘! (ê²Œì„ ë£¨í”„ ìµœì´ˆ ì‹¤í–‰)
        gameLoop();
    </script>
</body>
</html>
